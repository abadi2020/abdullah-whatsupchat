(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e,t,a){e.exports=a(392)},381:function(e,t){},384:function(e,t,a){e.exports=a.p+"static/media/chat.a47bb6f4.png"},392:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(17),l=a.n(o),s=a(95),i=a.n(s),c=a(148),m=a(21),u=a(22),h=a(24),g=a(23),f=a(25),d=a(16),p=a(5),E=Object(d.createMuiTheme)({typography:{useNextVariants:!0},palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"#7986cb",main:"#3f51b5",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}}}),b=a(26),y=(a(47),function(e){return n.a.createElement("div",{className:"userBubble"},n.a.createElement("span",{style:{fontSize:"smaller",fontWeight:"bold"}},"Name: ",e.user.name),n.a.createElement("br",null),n.a.createElement("span",{style:{fontSize:"smaller"}},"Age: ",e.user.age),n.a.createElement("br",null),n.a.createElement("span",null,"Email: ",e.user.email))}),v=function(e){return n.a.createElement("div",{className:"Triangle"})},x=function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){var e=l.a.findDOMNode(Object(b.a)(Object(b.a)(a)));e.scrollIntoView({block:"end",behavior:"smooth"}),e.blur()},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"iClass"},n.a.createElement(p.i,{ref:"user",style:{textAlign:"left",marginBottom:"5px"}},n.a.createElement(y,{user:this.props.user,color:"#1B5E20"}),n.a.createElement(v,{color:"#1B5E20"})))}}]),t}(n.a.Component),N=function(e){var t=e.users.map(function(e){return n.a.createElement(x,{key:e._id,user:e})});return n.a.createElement(p.h,null,t)},T=a(57),C=a.n(T),k=function(e){return n.a.createElement(p.a,{position:"static"},n.a.createElement(p.k,{color:"primary",title:"Lab 10"},n.a.createElement(p.l,{variant:"h6",color:"inherit"},"Lab 10"),n.a.createElement("section",{style:{height:90,width:90,marginLeft:"auto"}},n.a.createElement(p.g,{onClick:function(){return e.viewDialog()}},n.a.createElement(C.a,{style:{color:"white",height:70,width:70}})))))},w=function(e){return n.a.createElement("div",null,n.a.createElement("h1",{style:{textAlign:"center"}},"Lab 10"),n.a.createElement(p.b,{color:"primary",variant:"raised",onClick:function(){return e.childdata("some data from dialog")}},"Send data to parent"))},j=(n.a.PureComponent,a(153)),S=a(150),O=a.n(S),M=Object(d.createMuiTheme)({typography:{useNextVariants:!0},palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"#7986cb",main:"#3f51b5",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}}}),B=function(e){return n.a.createElement(p.a,{position:"static"},n.a.createElement(p.k,{color:"primary",title:"Lab 10"},n.a.createElement(p.l,{variant:"h6",color:"inherit"},"What's up app - INFO3069"),e.isJoined&&n.a.createElement("section",{style:{height:90,width:90,marginLeft:"auto"}},n.a.createElement(p.g,{onClick:function(){return e.viewDialog()}},n.a.createElement(C.a,{style:{color:"white",height:70,width:70}})))))},q=function(e){return n.a.createElement("div",{className:"userBubble",style:{background:e.user.colour}},n.a.createElement("span",{style:{fontSize:"smaller",fontWeight:"bold",alignContent:"left"}},e.user.from," says:"),n.a.createElement("div",{style:{fontSize:"smaller",fontWeight:"bold",alignContent:"right",float:"right"}},"room: ",e.user.room,n.a.createElement("br",null)," @:",e.user.time),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{style:{margin:10,fontSize:25,fontWeight:"bold"}},e.user.text))},A=function(e){return n.a.createElement("div",{style:{borderColor:"".concat(e.color," transparent")},className:"Triangle"})},D=function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){var e=l.a.findDOMNode(Object(b.a)(Object(b.a)(a)));e.scrollIntoView({block:"end",behavior:"smooth"}),e.blur()},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.myChatName===this.props.user.from?n.a.createElement("div",{className:"iClass"},n.a.createElement(p.i,{ref:"user",style:{textAlign:"left",marginBottom:"5px"}},n.a.createElement(q,{user:this.props.user,color:this.props.user.colour,myChatName:"TEST_Bubble"}),n.a.createElement(A,{color:this.props.user.colour}))):n.a.createElement("div",null,n.a.createElement(p.i,{ref:"user",style:{textAlign:"left",marginBottom:"5px"}},n.a.createElement(q,{user:this.props.user,color:this.props.user.colour,myChatName:this.props.myChatName}),n.a.createElement(A,{color:this.props.user.colour})))}}]),t}(n.a.Component),J=function(e){var t=e.users.map(function(t){return n.a.createElement(D,{key:t._id,user:t,myChatName:e.myChatName})});return n.a.createElement(p.h,null,t)},R=(a(384),a(56)),L=a.n(R),F=a(54),U=a.n(F),W=a(55),z=a.n(W),I=a(151),V=a.n(I),P=a(152),_=a.n(P),H=function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={socket:null,messages:[],chatName:"",roomName:"",msg:"",isTyping:!1,hideJoinObjects:!1,NameErrorText:"Unique name required",errorText:"Unique name required",RoomErrorText:"Enter a room name",open:!1,rooms:[],UsersAvailable:[],isJoined:!1,showMsgErr:!0},a.handleOpenDialog=function(){return a.setState({open:!0})},a.handleCloseDialog=function(){return a.setState({open:!1})},a.handleRoomButtonsChange=function(e){a.setState({roomName:e.target.value,RoomErrorText:""})},a.handleJoin=function(){a.setState({errorText:"Message required",isJoined:!0}),a.state.socket.emit("join",{chatName:a.state.chatName,roomName:a.state.roomName})},a.onNameChange=function(e){""===e.target.value?a.setState({chatName:e.target.value,NameErrorText:"Unique name required"}):a.setState({chatName:e.target.value,NameErrorText:""})},a.onRoomChange=function(e){""===e.target.value?a.setState({roomName:e.target.value,RoomErrorText:"Enter a room name"}):a.setState({roomName:e.target.value,RoomErrorText:""})},a.onMessageChange=function(e){a.setState({msg:e.target.value}),""===e.target.value?a.setState({errorText:"Message required",showMsgErr:!0}):(a.setState({errorText:""}),!1===a.state.isTyping&&(a.state.socket.emit("typing",{from:a.state.chatName}),a.setState({isTyping:!0})))},a.addMessage=function(e){a.setState({errorText:"Message required",showMsgErr:!0}),a.setState(function(t){var a=Object(j.a)(t.messages);return a.push(e),{messages:a}})},a.typingHandle=function(e){a.setState({errorText:e.text,showMsgErr:!1})},a.nameExists=function(e){a.setState({NameErrorText:"Name exists",isJoined:!1})},a.onWelcome=function(e){a.addMessage(e),a.setState({hideJoinObjects:!0})},a.handleSendMessage=function(e){a.setState({errorText:"Message required"}),e.preventDefault(),a.state.socket.emit("message",{from:a.state.chatName,text:a.state.msg},function(e){}),a.setState({msg:"",isTyping:!1})},a.componentDidMount=function(){var e=O.a.connect();a.setState({socket:e}),e.on("welcome",a.onWelcome),e.on("someoneistyping",a.typingHandle),e.on("nameexists",a.nameExists),e.on("someonejoined",a.addMessage),e.on("someoneleft",a.addMessage),e.on("newmessage",a.addMessage),e.on("rooms",function(e){a.setState({rooms:e})}),e.on("UsersAvailable",function(e){a.setState({UsersAvailable:e})}),e.emit("getRooms")},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.messages,a=e.chatName,r=e.roomName,o=e.hideJoinObjects,l=e.msg,s=e.showMsgErr;return n.a.createElement(d.MuiThemeProvider,{theme:M},n.a.createElement("div",null,n.a.createElement(B,{viewDialog:this.handleOpenDialog,isJoined:this.state.isJoined}),n.a.createElement(p.e,{open:this.state.open,onClose:this.handleCloseDialog,style:{margin:20}},n.a.createElement(p.f,null,n.a.createElement(p.l,{variant:"h7",color:"primary",gutterBottom:!0},"Currently online users"),n.a.createElement(p.h,null,this.state.UsersAvailable.map(function(e,t){return n.a.createElement(p.i,{key:t},n.a.createElement("section",{style:{marginRight:"auto"}},n.a.createElement(V.a,{style:{color:e.color,height:30,width:30,alignContent:"left",float:"left"}})),e.name," is in ",e.room," room")}))))),n.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},n.a.createElement(_.a,{style:{color:"#3f51b5",height:100,width:100}})),!o&&n.a.createElement(n.a.Fragment,null,n.a.createElement(p.c,{style:{marginTop:"10%",marginLeft:"10%",marginBottom:"10%",width:"80%",height:"100%"}},n.a.createElement(p.d,{style:{textAlign:"center"}},!o&&n.a.createElement(n.a.Fragment,null,n.a.createElement(p.j,{onChange:this.onNameChange,placeholder:"Enter unique name",autoFocus:!0,required:!0,value:a,helperText:this.state.NameErrorText,error:0!==this.state.NameErrorText.length}),n.a.createElement("br",null)))),n.a.createElement(p.c,{style:{marginTop:"10%",marginLeft:"10%",marginBottom:"10%",width:"80%",height:"100%"}},n.a.createElement(p.d,{style:{textAlign:"center"}},n.a.createElement(p.l,{color:"primary",gutterBottom:!0},"join excisting or a new room"),n.a.createElement(U.a,{"aria-label":"Rooms",name:"Rooms",value:this.state.roomName,onChange:this.handleRoomButtonsChange},this.state.rooms.map(function(e,t){return n.a.createElement(z.a,{value:e.room,control:n.a.createElement(L.a,null),label:"".concat(e.room,"    | joined: ").concat(e.count),key:t})})),!o&&n.a.createElement(n.a.Fragment,null,n.a.createElement(p.j,{onChange:this.onRoomChange,placeholder:"Enter a room name",autoFocus:!0,required:!0,value:r,helperText:this.state.RoomErrorText,error:0!==this.state.RoomErrorText.length}),n.a.createElement("br",null)))),n.a.createElement(p.b,{onClick:this.handleJoin,color:"primary",variant:"contained",disabled:0===this.state.roomName.length||0===this.state.chatName.length,style:{marginTop:"1em"}},"Join")),o&&n.a.createElement(n.a.Fragment,null,n.a.createElement(p.j,{onChange:this.onMessageChange,placeholder:"type something here",autoFocus:!0,required:!0,helperText:this.state.errorText,error:0!==this.state.errorText.length&&s,value:l}),n.a.createElement("br",null),n.a.createElement(p.b,{onClick:this.handleSendMessage,color:"primary",variant:"contained",disabled:this.state.errorText,style:{marginTop:"1em"}},"Send")),n.a.createElement("h5",null," ",this.state.childData),n.a.createElement("div",{className:"usersList"},n.a.createElement(J,{users:t,myChatName:a})))}}]),t}(n.a.PureComponent);l.a.render(n.a.createElement(H,null),document.getElementById("root"))},47:function(e,t,a){}},[[224,1,2]]]);
//# sourceMappingURL=main.9e605edf.chunk.js.map